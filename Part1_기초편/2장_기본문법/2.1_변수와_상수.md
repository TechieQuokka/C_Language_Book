# 2.1 변수와 상수

변수와 상수는 프로그래밍의 가장 기본적인 개념입니다. 변수는 값을 저장하고 변경할 수 있는 메모리 공간이며, 상수는 한 번 정의되면 변경할 수 없는 값입니다. 이번 장에서는 C언어에서 변수와 상수를 선언하고 사용하는 방법을 자세히 알아보겠습니다.

## 변수 (Variables)

### 변수의 개념

변수는 데이터를 저장하기 위한 메모리 공간에 붙인 이름입니다. 프로그램 실행 중에 값을 저장하고, 읽고, 수정할 수 있습니다.

**변수의 특징:**
- 메모리 주소를 가짐
- 자료형이 정해짐
- 값이 변경 가능함
- 유효 범위(스코프)가 있음

### 변수 선언

C언어에서 변수를 사용하기 전에 반드시 선언해야 합니다.

**기본 문법:**
```c
자료형 변수명;
자료형 변수명 = 초기값;
```

**예시:**
```c
#include <stdio.h>

int main() {
    // 변수 선언
    int age;                    // 선언만
    int score = 95;             // 선언과 동시에 초기화
    char grade = 'A';           // 문자 변수
    float height = 175.5;       // 실수 변수

    // 변수 사용
    age = 25;                   // 값 할당
    printf("나이: %d\n", age);
    printf("점수: %d\n", score);
    printf("등급: %c\n", grade);
    printf("키: %.1f\n", height);

    return 0;
}
```

### 변수명 규칙

**올바른 변수명 규칙:**
1. 영문자(a-z, A-Z), 숫자(0-9), 밑줄(_) 사용 가능
2. 첫 글자는 영문자 또는 밑줄로 시작
3. 대소문자 구분
4. C언어 키워드 사용 불가
5. 공백 포함 불가

**좋은 예:**
```c
int studentAge;         // 카멜 케이스
int student_age;        // 스네이크 케이스
int _privateVar;        // 밑줄로 시작
int count1, count2;     // 숫자 포함
```

**나쁜 예:**
```c
int 123age;             // 숫자로 시작 (오류)
int student age;        // 공백 포함 (오류)
int if;                 // 키워드 사용 (오류)
int my-var;             // 하이픈 사용 (오류)
```

### 변수 초기화

**초기화하지 않은 변수의 문제:**
```c
#include <stdio.h>

int main() {
    int uninitializedVar;       // 초기화하지 않음

    printf("초기화하지 않은 변수: %d\n", uninitializedVar);
    // 쓰레기 값(garbage value)이 출력됨

    return 0;
}
```

**올바른 초기화:**
```c
#include <stdio.h>

int main() {
    int number = 0;             // 0으로 초기화
    char letter = '\0';         // 널 문자로 초기화
    float ratio = 0.0;          // 0.0으로 초기화

    printf("number: %d\n", number);
    printf("letter: %c\n", letter);
    printf("ratio: %.1f\n", ratio);

    return 0;
}
```

### 다중 변수 선언

```c
#include <stdio.h>

int main() {
    // 같은 자료형의 여러 변수를 한 번에 선언
    int a, b, c;
    int x = 10, y = 20, z = 30;

    // 개별 할당
    a = 1;
    b = 2;
    c = 3;

    printf("a=%d, b=%d, c=%d\n", a, b, c);
    printf("x=%d, y=%d, z=%d\n", x, y, z);

    return 0;
}
```

## 상수 (Constants)

### 상수의 개념

상수는 프로그램 실행 중에 값이 변하지 않는 데이터입니다. 한 번 정의되면 수정할 수 없습니다.

### 리터럴 상수 (Literal Constants)

프로그램에서 직접 사용되는 값들입니다.

#### 정수 리터럴

```c
#include <stdio.h>

int main() {
    int decimal = 42;           // 10진수
    int octal = 052;            // 8진수 (0으로 시작)
    int hexadecimal = 0x2A;     // 16진수 (0x로 시작)
    int binary = 0b101010;      // 2진수 (0b로 시작, C23부터)

    printf("10진수: %d\n", decimal);
    printf("8진수: %d (%o)\n", octal, octal);
    printf("16진수: %d (%x)\n", hexadecimal, hexadecimal);

    return 0;
}
```

#### 실수 리터럴

```c
#include <stdio.h>

int main() {
    float f1 = 3.14f;           // float 타입 (f 접미사)
    double d1 = 3.14159;        // double 타입 (기본)
    double d2 = 3.14159L;       // long double 타입 (L 접미사)

    // 과학적 표기법
    double scientific1 = 1.23e4;    // 1.23 × 10^4 = 12300
    double scientific2 = 5.67e-3;   // 5.67 × 10^-3 = 0.00567

    printf("f1: %.2f\n", f1);
    printf("d1: %.5f\n", d1);
    printf("과학적 표기법1: %.1f\n", scientific1);
    printf("과학적 표기법2: %.5f\n", scientific2);

    return 0;
}
```

#### 문자 리터럴

```c
#include <stdio.h>

int main() {
    char ch1 = 'A';             // 일반 문자
    char ch2 = '5';             // 숫자 문자
    char ch3 = ' ';             // 공백 문자

    // 이스케이프 시퀀스
    char newline = '\n';        // 줄바꿈
    char tab = '\t';            // 탭
    char quote = '\'';          // 작은따옴표
    char backslash = '\\';      // 백슬래시

    printf("문자들: %c %c %c\n", ch1, ch2, ch3);
    printf("이스케이프 시퀀스:%c탭%c따옴표:%c 백슬래시:%c\n",
           newline, tab, quote, backslash);

    return 0;
}
```

#### 문자열 리터럴

```c
#include <stdio.h>

int main() {
    char message[] = "Hello, World!";
    char empty[] = "";
    char multiline[] = "첫 번째 줄\n두 번째 줄\n세 번째 줄";

    printf("메시지: %s\n", message);
    printf("빈 문자열: '%s'\n", empty);
    printf("여러 줄:\n%s\n", multiline);

    return 0;
}
```

### 심볼릭 상수 (Symbolic Constants)

#### #define을 이용한 매크로 상수

```c
#include <stdio.h>

// 매크로 상수 정의
#define PI 3.14159
#define MAX_SIZE 100
#define COMPANY_NAME "TechCorp"
#define DEBUGGING 1

int main() {
    double radius = 5.0;
    double area = PI * radius * radius;
    double circumference = 2 * PI * radius;

    printf("회사명: %s\n", COMPANY_NAME);
    printf("원의 반지름: %.1f\n", radius);
    printf("원의 넓이: %.2f\n", area);
    printf("원의 둘레: %.2f\n", circumference);
    printf("최대 크기: %d\n", MAX_SIZE);

    #if DEBUGGING
        printf("디버그 모드가 활성화되었습니다.\n");
    #endif

    return 0;
}
```

**매크로 상수의 특징:**
- 컴파일 시간에 치환됨
- 메모리를 차지하지 않음
- 타입 검사가 없음
- 전역적으로 사용 가능

#### const 키워드를 이용한 상수

```c
#include <stdio.h>

int main() {
    const int MAX_STUDENTS = 30;        // 읽기 전용 변수
    const double PI = 3.14159;
    const char GRADE = 'A';

    printf("최대 학생 수: %d\n", MAX_STUDENTS);
    printf("원주율: %.5f\n", PI);
    printf("등급: %c\n", GRADE);

    // MAX_STUDENTS = 40;  // 오류! const 변수는 수정 불가

    return 0;
}
```

**const 상수의 특징:**
- 런타임에 메모리를 차지함
- 타입 검사가 수행됨
- 블록 스코프를 가짐
- 초기화 시에만 값 할당 가능

### #define vs const 비교

```c
#include <stdio.h>

#define MACRO_PI 3.14159        // 매크로 상수
const double CONST_PI = 3.14159;  // const 상수

int main() {
    printf("MACRO_PI 주소: 없음 (매크로)\n");
    printf("CONST_PI 주소: %p\n", (void*)&CONST_PI);

    // 매크로는 단순 치환
    double area1 = MACRO_PI * 5 * 5;    // 3.14159 * 5 * 5로 치환

    // const는 변수처럼 동작
    double area2 = CONST_PI * 5 * 5;    // 메모리에서 값을 읽어옴

    printf("Area1: %.2f\n", area1);
    printf("Area2: %.2f\n", area2);

    return 0;
}
```

## 변수의 스코프 (Scope)

### 지역 변수 (Local Variables)

```c
#include <stdio.h>

int main() {
    int globalScope = 100;      // main 함수 전체에서 유효

    printf("메인 함수 시작: globalScope = %d\n", globalScope);

    if (1) {
        int blockScope = 200;   // 이 블록 내에서만 유효
        printf("블록 내부: blockScope = %d\n", blockScope);
        printf("블록 내부: globalScope = %d\n", globalScope);
    }

    // printf("블록 외부: blockScope = %d\n", blockScope);  // 오류!
    printf("메인 함수 끝: globalScope = %d\n", globalScope);

    return 0;
}
```

### 전역 변수 (Global Variables)

```c
#include <stdio.h>

// 전역 변수 선언
int globalVar = 500;
const int GLOBAL_CONST = 1000;

void function1() {
    printf("function1에서 globalVar: %d\n", globalVar);
    globalVar = 600;  // 전역 변수 수정
}

void function2() {
    printf("function2에서 globalVar: %d\n", globalVar);
}

int main() {
    printf("main에서 초기 globalVar: %d\n", globalVar);

    function1();
    function2();

    printf("main에서 최종 globalVar: %d\n", globalVar);
    printf("전역 상수: %d\n", GLOBAL_CONST);

    return 0;
}
```

## 변수 명명 규칙과 코딩 스타일

### 일반적인 명명 규칙

```c
#include <stdio.h>

// 전역 변수 (헝가리안 표기법 또는 접두사 사용)
int g_totalCount = 0;           // 전역 변수 접두사 g_
const int MAX_BUFFER_SIZE = 1024;  // 상수는 대문자

int main() {
    // 지역 변수 (카멜 케이스 또는 스네이크 케이스)
    int studentAge = 20;            // 카멜 케이스
    int student_count = 30;         // 스네이크 케이스

    // 임시 변수
    int i, j, k;                    // 루프 카운터
    int temp;                       // 임시 변수

    // 의미있는 변수명
    double averageScore = 0.0;      // 평균 점수
    bool isCompleted = false;       // 완료 여부
    char firstName[50];             // 이름

    return 0;
}
```

### 코딩 스타일 예시

```c
#include <stdio.h>
#include <stdbool.h>

// 상수 정의
#define MAX_STUDENTS 100
#define PI 3.14159

// 전역 변수
int g_studentCount = 0;

int main() {
    // 변수 선언부
    int currentStudent;
    double totalScore = 0.0;
    double averageScore;
    bool hasValidData = true;

    // 초기화
    currentStudent = 1;

    // 계산
    if (hasValidData) {
        totalScore = 85.5 + 92.3 + 78.9;
        averageScore = totalScore / 3.0;

        printf("총점: %.1f\n", totalScore);
        printf("평균: %.2f\n", averageScore);
    }

    return 0;
}
```

## 실습 예제

### 예제 1: 변수를 이용한 정보 관리

```c
#include <stdio.h>

int main() {
    // 학생 정보 저장 변수들
    char name[50] = "김철수";
    int age = 20;
    char grade = 'A';
    double height = 175.5;
    double weight = 70.2;
    int score = 95;

    // 정보 출력
    printf("=== 학생 정보 ===\n");
    printf("이름: %s\n", name);
    printf("나이: %d세\n", age);
    printf("등급: %c\n", grade);
    printf("키: %.1fcm\n", height);
    printf("몸무게: %.1fkg\n", weight);
    printf("점수: %d점\n", score);

    // BMI 계산 (키는 미터 단위로 변환)
    double heightInMeter = height / 100.0;
    double bmi = weight / (heightInMeter * heightInMeter);

    printf("BMI: %.2f\n", bmi);

    return 0;
}
```

### 예제 2: 상수를 이용한 계산 프로그램

```c
#include <stdio.h>

// 상수 정의
#define TAX_RATE 0.1        // 세율 10%
#define DISCOUNT_RATE 0.05  // 할인율 5%

int main() {
    const double SHIPPING_COST = 3000.0;  // 배송비

    double itemPrice;
    int quantity;

    printf("상품 가격을 입력하세요: ");
    scanf("%lf", &itemPrice);

    printf("수량을 입력하세요: ");
    scanf("%d", &quantity);

    // 계산
    double subtotal = itemPrice * quantity;
    double discount = subtotal * DISCOUNT_RATE;
    double afterDiscount = subtotal - discount;
    double tax = afterDiscount * TAX_RATE;
    double total = afterDiscount + tax + SHIPPING_COST;

    // 결과 출력
    printf("\n=== 주문 계산서 ===\n");
    printf("상품 가격: %.0f원 x %d개\n", itemPrice, quantity);
    printf("소계: %.0f원\n", subtotal);
    printf("할인(%.0f%%): -%.0f원\n", DISCOUNT_RATE * 100, discount);
    printf("할인 후: %.0f원\n", afterDiscount);
    printf("세금(%.0f%%): %.0f원\n", TAX_RATE * 100, tax);
    printf("배송비: %.0f원\n", SHIPPING_COST);
    printf("총액: %.0f원\n", total);

    return 0;
}
```

### 예제 3: 변수 스코프 이해하기

```c
#include <stdio.h>

// 전역 변수
int globalCounter = 0;

void incrementCounter() {
    globalCounter++;  // 전역 변수 수정
    printf("함수에서 globalCounter: %d\n", globalCounter);
}

int main() {
    int localCounter = 0;  // 지역 변수

    printf("초기 globalCounter: %d\n", globalCounter);
    printf("초기 localCounter: %d\n", localCounter);

    // 지역 블록
    {
        int blockVariable = 100;
        localCounter = 5;

        printf("블록 내 blockVariable: %d\n", blockVariable);
        printf("블록 내 localCounter: %d\n", localCounter);
    }

    // blockVariable은 여기서 사용 불가
    printf("블록 외부 localCounter: %d\n", localCounter);

    // 함수 호출
    incrementCounter();
    incrementCounter();

    printf("최종 globalCounter: %d\n", globalCounter);

    return 0;
}
```

## 메모리와 변수

### 변수가 메모리에 저장되는 방식

```c
#include <stdio.h>

int main() {
    int number = 42;
    float decimal = 3.14f;
    char character = 'A';

    // 변수의 메모리 주소 출력
    printf("number의 값: %d, 주소: %p\n", number, (void*)&number);
    printf("decimal의 값: %.2f, 주소: %p\n", decimal, (void*)&decimal);
    printf("character의 값: %c, 주소: %p\n", character, (void*)&character);

    // 변수 크기 출력
    printf("int 크기: %zu bytes\n", sizeof(number));
    printf("float 크기: %zu bytes\n", sizeof(decimal));
    printf("char 크기: %zu bytes\n", sizeof(character));

    return 0;
}
```

## 정리

이번 장에서 학습한 변수와 상수의 핵심 내용:

### 변수
- **선언과 초기화**: 사용 전 반드시 선언
- **명명 규칙**: 의미있고 일관된 이름 사용
- **스코프**: 지역/전역 변수의 유효 범위
- **메모리**: 변수는 메모리 주소를 가짐

### 상수
- **리터럴 상수**: 프로그램에 직접 쓰인 값
- **#define**: 전처리 시 치환되는 매크로 상수
- **const**: 런타임에 메모리를 가지는 읽기 전용 변수

### 좋은 습관
- 변수는 사용하기 전에 초기화
- 의미있는 변수명 사용
- 적절한 스코프 사용
- 상수는 매직 넘버 대신 심볼릭 상수 사용

변수와 상수는 모든 C 프로그램의 기초가 되므로 이 개념들을 확실히 이해하고 넘어가는 것이 중요합니다.